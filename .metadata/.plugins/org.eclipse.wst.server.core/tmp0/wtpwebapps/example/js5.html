<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>자바스크립트 - 버블링 + 캡쳐링 함수 기초 radio</title>
</head>
<body>
<input type="checkbox" id="all" onclick="agree(this.checked)">전체동의 <br><br>
이메일 약관 <input type="radio" name="a" id="a1" onclick="disagree()">동의함 <input type="radio" name="a" id="aa1" checked onclick="disagree()">동의안함 <br>
서비스 약관 <input type="radio" name="b" id="a2" onclick="disagree()">동의함 <input type="radio" name="b" id="aa2" checked onclick="disagree()">동의안함 <br>
개인정보서비스 약관 <input type="radio" name="c" id="a3" onclick="disagree()">동의함 <input type="radio" name="c" id="aa3" checked onclick="disagree()">동의안함 <br>
</body>
<script>
	function agree(e){
		var w = 1;
		do{
			if(e == true){
				document.getElementById("a" + w).checked = e;
			}
			else{
				document.getElementById("aa" + w).checked = true;
			}
			w++;
		}
		while(w <= 3);
	}
	
	function disagree(){
		if(document.getElementById("aa1").checked && document.getElementById("aa2").checked && document.getElementById("aa3").checked){
			document.getElementById("all").checked = false;
		}
		else if(document.getElementById("a1").checked && document.getElementById("a2").checked && document.getElementById("a3").checked){
			document.getElementById("all").checked = true;
		}
		else{
			document.getElementById("all").checked = false;
		}
	}
	
	//다른 방식
	function disagree(name, node){	//해당 오브젝트의 name값과 노드번호(배열)
		var nm = document.getElementsByName(name);	//name으로 확인
		if(node == 1){	//동의안함을 무조건 클릭 시 전체동의 해제시킴
			document.getElementById("all").checked = false;
		}
		else{	//각각의 서비스 약관에 대한 동의함 클릭 시 반복문으로 모두 동의함이 되었는지 확인
			var w = 1;
			var count = 0;
			while(w < 3){
				if(document.getElementById("a" + w).checked == true){
					count++;
				}
				w++;
			}
			if(count == 3){	//모두 동의함일 경우 전체동의 부분에 체크되도록 함.
				document.getElementById("all").checked = true;
			}
		}
	}
</script>
</html>