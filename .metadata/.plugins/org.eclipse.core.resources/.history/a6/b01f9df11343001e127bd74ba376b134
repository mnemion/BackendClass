package javatest;

import java.sql.*;

/*
 응용편 Java + Database
*/
public class db_test1 {

	public static void main(String[] args) {
		Connection ct = null;
		try {
			dbconfig db = new dbconfig();
			ct = db.info();
			//System.out.println(ct.toString());// DB 접속 확인
			String insert = "insert into mail values ('0', '홍길동', 'hong@nate.com', '자바가 어려워요... 머리가 아파요. 사람을 잡아요!!', now())";
			PreparedStatement ps = ct.prepareStatement(insert);
			ps.executeUpdate();
		} catch(Exception e) {
			System.out.println("DB 정보가 올바르지 않습니다.");
		}
		/*
		String times = new timezone().new_time(3);
		System.out.println(times);
		*/
		
		/*
		Date today = new Date();	
		SimpleDateFormat data = new SimpleDateFormat("YYYY-MM-dd");
		SimpleDateFormat time = new SimpleDateFormat("HH:mm:ss");
		SimpleDateFormat datatime = new SimpleDateFormat("YYYY-MM-dd HH:mm:ss");
		System.out.println(datatime.format(today));
		*/
	}
}

class dbconfig{	//Database 접속 환경 설정 class
	//Connection : Interface 사용
	public static Connection info() throws Exception {
		String db_drive = "com.mysql.jdbc.Driver";
		String db_url = "jdbc:mysql://localhost:3306/web";
		String db_user = "hong";
		String db_pass = "a123456";
		
		Class.forName(db_drive);
		Connection con = DriverManager.getConnection(db_url, db_user, db_pass);
		
		return con;
	}
}